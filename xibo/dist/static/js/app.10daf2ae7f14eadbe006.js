webpackJsonp([13],{"1ahs":function(t,e){},"4Lha":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.menuData,function(e,o){return[e.children.length>0?n("el-submenu",{attrs:{index:e.path}},[n("template",{slot:"title"},[n("i",{class:e.iconCls?e.iconCls:[t.fa,t.fa-t.file]}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("routeNmae."+e.name)))])]),t._v(" "),n("menu-tree",{attrs:{menuData:e.children}})],2):n("el-menu-item",{attrs:{index:e.path}},[n("i",{class:e.iconCls?e.iconCls:[t.fa,t.fa-t.file]}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("routeNmae."+e.name)))])])]})],2)},staticRenderFns:[]};var a={name:"asideNav",components:{menuTree:n("VU/8")({name:"menuTree",props:["menuData"]},o,!1,function(t){n("jJ/4")},"data-v-60274045",null).exports},watch:{"$route.path":function(t){this.selectmenu(t)}},methods:{selectmenu:function(t){var e=this.$store.getters.routers,n="";this.$store.dispatch("addTab",{title:function t(e,o){for(var a=0;a<o.length;a++)if(o[a].children.length>0||o[a].path===e){if(o[a].path===e&&o[a].children.length<1){n=o[a].name;break}t(e,o[a].children)}return n}(t,e),path:t})}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-aside",{attrs:{id:"asideNav"}},[n("div",{staticClass:"logo-name"},[t.$store.getters.logoShow?n("p",[t._v("MA")]):n("p",[t._v("medical admin")])]),t._v(" "),n("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":t.$route.path,collapse:t.$store.getters.isCollapse,"background-color":"#03152A","text-color":"rgba(255,255,255,.7)","active-text-color":"#ffffff",router:t.$store.getters.uniquerouter,"unique-opened":t.$store.getters.uniquerouter,"collapse-transition":!0},on:{select:t.selectmenu}},[t._l(t.$store.getters.routers,function(e,o){return e.hidden?t._e():[!e.alone&&e.children.length>0?n("el-submenu",{attrs:{index:o+""}},[n("template",{slot:"title"},[n("i",{class:e.iconCls?e.iconCls:[t.fa,t.fa-t.server]}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("routeNmae."+e.name)))])]),t._v(" "),n("menu-tree",{attrs:{menuData:e.children}})],2):n("el-menu-item",{attrs:{index:e.path}},[n("i",{class:e.iconCls?e.iconCls:[t.fa,t.fa-t.file]}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("routeNmae."+e.name)))])])]})],2)],1)],1)},staticRenderFns:[]};var i=n("VU/8")(a,s,!1,function(t){n("d95L")},null,null).exports,r=n("lbHh"),l=n.n(r),c={name:"langSelect",data:function(){return{language:""}},mounted:function(){var t=localStorage.lang||"cn";this.getLanguage(t)},methods:{handleSetLanguage:function(t){this.$i18n.locale=t,localStorage.setItem("lang",t),this.getLanguage(t)},getLanguage:function(t){"cn"===t&&(this.language="中文"),"en"===t&&(this.language="English")}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dropdown",{staticClass:"international",on:{command:t.handleSetLanguage}},[n("div",[n("span",{staticClass:"el-dropdown-link"},[n("i",{staticClass:"fa fa-language fa-lg"}),t._v(" "+t._s(t.language)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"cn"}},[t._v("中文")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"en"}},[t._v("English")])],1)],1)},staticRenderFns:[]};var d=n("VU/8")(c,u,!1,function(t){n("Bsey"),n("obAX")},"data-v-7874ac67",null).exports,m={name:"tabNav",data:function(){return{rightMenuShow:!1,left:0,top:0}},methods:{openMenu:function(t,e,n){if(0===n)return!1;this.rightMenuShow=!0,this.left=e.clientX+10,this.top=e.clientY,this.$store.dispatch("openMenu",t)},removeTab:function(t){this.$store.dispatch("removeTab",{tabItem:t,fullPath:this.$route.fullPath,router:this.$router})},removeOtherTab:function(t){this.$store.dispatch("removeOtherTab",{tabItem:t,router:this.$router})},removeAllTab:function(){this.$store.dispatch("removeOtherTab",{all:!0,router:this.$router})}},watch:{rightMenuShow:function(t){var e=this;t?document.body.addEventListener("click",function(){e.rightMenuShow=!1}):document.body.removeEventListener("click",function(){e.rightMenuShow=!1})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tabnavBox"},[n("transition-group",{attrs:{name:"list",tag:"ul"}},t._l(t.$store.getters.tabnavBox,function(e,o){return n("li",{key:e.title,staticClass:"tabnav",class:{active:t.$route.path===e.path},on:{contextmenu:function(n){return n.preventDefault(),t.openMenu(e,n,o)}}},[n("router-link",{attrs:{to:e.path}},[t._v(t._s(t.$t("routeNmae."+e.title)))]),t._v(" "),0!==o?n("i",{staticClass:"el-icon-error",on:{click:function(n){return t.removeTab(e)}}}):t._e()],1)}),0)],1),t._v(" "),n("ul",{directives:[{name:"show",rawName:"v-show",value:this.rightMenuShow,expression:"this.rightMenuShow"}],staticClass:"menuBox",style:{left:this.left+"px",top:this.top+"px"}},[n("li",{on:{click:function(e){return t.removeTab(t.$store.getters.rightNav)}}},[n("i",{staticClass:"fa fa-remove"}),t._v(t._s(t.$t("rightMenu.close")))]),t._v(" "),n("li",{on:{click:function(e){return t.removeOtherTab(t.$store.getters.rightNav)}}},[t._v(t._s(t.$t("rightMenu.closeOther")))]),t._v(" "),n("li",{on:{click:t.removeAllTab}},[t._v(t._s(t.$t("rightMenu.closeAll")))])])])},staticRenderFns:[]};var f={name:"Header",components:{tabNav:n("VU/8")(m,h,!1,function(t){n("w1sg"),n("1ahs")},null,null).exports,langSelect:d},data:function(){return{isfullScreen:!0}},methods:{collapse:function(){this.$store.dispatch("collapse")},fullScreen:function(){if(this.isfullScreen){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():elem.msRequestFullscreen&&elem.msRequestFullscreen(),this.isfullScreen=!1}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.isfullScreen=!0},handleCommand:function(t){"info"===t?this.$router.push({path:"/editUser?userId="+this.$store.getters.info.uid}):"logout"===t?(l.a.remove("access_token"),location.reload()):"editPassworld"===t&&this.$router.push({path:"/editPassworld"})}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-header",{attrs:{id:"header"}},[n("span",{staticClass:"hideAside",on:{click:t.collapse}},[n("i",{staticClass:"fa fa-indent fa-lg"})]),t._v(" "),n("ul",{staticClass:"personal"},[n("li",{staticClass:"fullScreen",on:{click:t.fullScreen}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"全屏",placement:"bottom"}},[n("i",{staticClass:"fa fa-arrows-alt fa-lg"})])],1),t._v(" "),n("li",[n("langSelect")],1),t._v(" "),n("li",[t._v(t._s(this.$store.getters.info.role))]),t._v(" "),n("li",[n("el-dropdown",{on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[t._v("\n                  "+t._s(this.$store.getters.info.name)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"info"}},[t._v(t._s(t.$t("userDropdownMenu.basicInfor")))]),t._v(" "),n("el-dropdown-item",{attrs:{command:"editPassworld"}},[t._v(t._s(t.$t("userDropdownMenu.changePassword")))]),t._v(" "),n("el-dropdown-item",{attrs:{command:"logout",divided:""}},[t._v(t._s(t.$t("userDropdownMenu.logout")))])],1)],1)],1),t._v(" "),n("li",{staticClass:"icon"},[n("img",{attrs:{src:t.$store.getters.info.avatar}})])])]),t._v(" "),n("tabNav")],1)},staticRenderFns:[]};var v={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",[this._v("Copyright © 2018 xuAdmin.")])])}]};var g={name:"dc-home",components:{layoutHeader:n("VU/8")(f,p,!1,function(t){n("OOZ0")},null,null).exports,Bottom:n("VU/8")({name:"bottom"},v,!1,function(t){n("vxcA")},"data-v-6ebe87a4",null).exports,langSelect:d,layoutAside:i},created:function(){this.$router.push("/index")}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"loyout"}},[e("el-container",[e("layoutAside"),this._v(" "),e("el-container",[e("layoutHeader"),this._v(" "),e("el-main",{attrs:{id:"elmain"}},[e("transition",{attrs:{name:"main",mode:"out-in"}},[e("router-view")],1)],1),this._v(" "),e("el-footer",[e("Bottom")],1)],1)],1)],1)},staticRenderFns:[]};var b=n("VU/8")(g,_,!1,function(t){n("QlNS"),n("lDCB")},null,null);e.default=b.exports},"5W1q":function(t,e){},Bsey:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("Xxa5"),a=n.n(o),s=n("exGp"),i=n.n(s),r=n("7+uW");r.default.directive("roleBtn",{bind:function(t,e){var n=e.value,o=JSON.parse(sessionStorage.getItem("info")).role;if(n&&-1!==n.indexOf(o))return!1;t.parentNode.removeChild(t)}});var l=r.default,c=n("zL8q"),u=n.n(c),d=n("//Fk"),m=n.n(d),h=n("mtWM"),f=n.n(h),p=n("lbHh"),v=n.n(p);f.a.defaults.timeout=1e4,f.a.defaults.baseURL="http://www.nirongxu.com:7001",console.log(f.a.defaults.baseURL),f.a.interceptors.request.use(function(t){return t.headers["Content-Type"]="application/json;charset=UTF-8",v.a.get("access_token")&&(t.headers.Authorization="Bearer"+v.a.get("access_token")),t},function(t){return m.a.reject(t.response)}),f.a.interceptors.response.use(function(t){return 11e3===t.data.code?(v.a.set("access_token",t.data.message,{expires:7}),setTimeout(function(){location.reload()},500),m.a.reject()):1e4===t.data.code?(Object(c.Message)({message:t.data.message,type:"warning"}),m.a.reject(t)):m.a.resolve(t)},function(t){if(404===t.response.status)Object(c.Message)({message:"请求地址出错",type:"warning"});else if(401===t.response.status)return Object(c.Message)({message:t.response.data.message,type:"warning"}),v.a.remove("access_token"),setTimeout(function(){location.reload()},3e3),!1;return m.a.reject(t.response)});var g=f.a,_=(n("tvR6"),n("muQq"),n("5W1q"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)},staticRenderFns:[]});var b=n("VU/8")({name:"app"},_,!1,function(t){n("V95c")},null,null).exports,w=n("Dd8w"),C=n.n(w),x=n("wUZ8"),y=n.n(x),$=C()({routeNmae:{home:"home",slideManage:"slideManage",pathological:"pathological",inspection:"inspection",consultation:"consultation",myConsultation:"myConsultation",consultationList:"consultationList",statistics:"statistics",uploadDaily:"uploadDaily",consultationDaily:"consultationDaily",slideStatistics:"slideStatistics",addUser:"addUser",editUser:"editUser",userList:"userList",userManage:"userManage",editPassword:"editPassword",systemSettings:"systemSettings",navMenu:"navMenu",systemManage:"systemManage",roleManage:"roleManage",systemSetting:"systemSetting"},rightMenu:{close:"close",closeOther:"closeOther",closeAll:"closeAll"},role:{superAdmin:"superAdmin",admin:"admin",ordinary:"ordinary"},userDropdownMenu:{basicInfor:"basicInfor",changePassword:"changePassword",logout:"logout"}},y.a),S=n("Vi3T"),k=n.n(S),M=C()({routeNmae:{home:"主页",slideManage:"玻片管理",pathological:"病理玻片",inspection:"检验玻片",consultation:"会诊",myConsultation:"我的会诊",consultationList:"全部会诊",statistics:"统计",uploadDaily:"上传日报",consultationDaily:"会诊日报",slideStatistics:"玻片统计",userManage:"用户维护",addUser:"添加账号",editUser:"修改资料",userList:"用户列表",editPassword:"修改密码",systemSettings:"系统设置",navMenu:"导航菜单",systemManage:"管理",roleManage:"角色维护",systemSetting:"系统配置项"},rightMenu:{close:"关闭",closeOther:"关闭其他",closeAll:"全部关闭"},role:{superAdmin:"超级管理员",admin:"管理员",ordinary:"普通用户"},userDropdownMenu:{basicInfor:"基本资料",changePassword:"修改密码",logout:"退出"}},k.a),F=n("/ocq"),R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"loginConbox"},[n("div",{staticClass:"header"}),t._v(" "),n("div",{staticClass:"loginBox"},[n("div",{staticClass:"loginCon"},[n("p",{staticClass:"title"},[t._v("nodePlatform")]),t._v(" "),n("p",{staticClass:"title"},[t._v("前台: vue + element-ui")]),t._v(" "),n("p",{staticClass:"title"},[t._v("后台: egg.js")]),t._v(" "),t.smdl?n("el-card",{staticClass:"login-module",attrs:{shadow:"always"}},[n("div",{staticClass:"clearfix formTitlt",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("密码登录")]),t._v(" "),n("span",{staticClass:"titIconbox"},[n("i",{staticClass:"iconfont xu-saomadenglu2 fa-lg iconcolor"}),t._v(" "),n("i",{staticClass:"iconfont xu-saomadenglu01 el-icon--right fa-lg pointer",on:{click:function(e){t.smdl=!t.smdl}}})])]),t._v(" "),n("el-form",{staticClass:"demo-ruleForm",attrs:{model:t.loginForm,"status-icon":"","label-width":"100px"}},[n("el-form-item",[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请输入登录账号"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),n("el-form-item",[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入登录密码"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),t._v(" "),n("el-form-item",[n("el-button",{staticClass:"subBtn",attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("登录")])],1),t._v(" "),n("p",{staticClass:"smalltxt"},[n("router-link",{staticClass:"a",attrs:{to:"#"}},[t._v("忘记密码")]),t._v(" "),n("router-link",{staticClass:"a",attrs:{to:"#"}},[t._v("忘记会员名")]),t._v(" "),n("router-link",{staticClass:"a",attrs:{to:"#"}},[t._v("免费注册")])],1)],1)],1):n("el-card",{staticClass:"login-module",attrs:{shadow:"always"}},[n("div",{staticClass:"clearfix formTitlt",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("扫码登录")]),t._v(" "),n("span",{staticClass:"titIconbox"},[n("i",{staticClass:"iconfont xu-mimadenglu1 fa-lg iconcolor"}),t._v(" "),n("i",{staticClass:"iconfont xu-imagevector el-icon--right fa-lg pointer",on:{click:function(e){t.smdl=!t.smdl}}})])]),t._v(" "),n("div",{staticClass:"ewmbox"},[n("div",{staticClass:"ewm"},[n("img",{attrs:{src:"https://img.alicdn.com/tfscom/TB1ivYYyHvpK1RjSZFqwu3XUVXa.png"}})]),t._v(" "),n("div",{staticClass:"ewmicon"},[n("i",{staticClass:"iconfont xu-saomadenglu fa-2x iconcolor"}),t._v(" "),n("p",[t._v("打开 微信 扫一扫登录")])]),t._v(" "),n("p",{staticClass:"smalltxt"},[n("router-link",{staticClass:"a",attrs:{to:"#"}},[t._v("免费注册")])],1)])])],1)])])])},staticRenderFns:[]};var T=n("VU/8")({data:function(){return{smdl:!0,loginForm:{username:"admin",password:"admin"}}},methods:{submitForm:function(){if(""===this.loginForm.username||""===this.loginForm.password)return this.$message({showClose:!0,message:"账号或密码不能为空",type:"error"}),!1;var t=this;this.$axios.post("/user/login",{username:t.loginForm.username,password:t.loginForm.password}).then(function(e){t.$store.dispatch("setToken",e.data.data.access_token).then(function(e){t.$router.push({path:"/"})}).catch(function(e){t.$message({showClose:!0,message:e.message,type:"error"})})}).catch(function(e){t.$message({showClose:!0,message:e.data.message,type:"error"})})}}},R,!1,function(t){n("t+ab")},null,null).exports,L=n("4Lha"),D={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var N=n("VU/8")({name:"mainIndex",components:{},mounted:function(){},methods:{}},D,!1,function(t){n("ml9o")},null,null).exports,B=F.a.prototype.push;F.a.prototype.push=function(t){return B.call(this,t).catch(function(t){return t})};r.default.use(F.a);var U=$.routeNmae,O=M.routeNmae,I=[{path:"/",redirect:"/index",hidden:!0,children:[]},{path:"/login",component:T,name:"",hidden:!0,children:[]},{path:"/index",iconCls:"fa fa-dashboard",name:U.home,component:L.default,alone:!0,children:[{path:"/index",iconCls:"fa fa-dashboard",name:"主页",component:N,children:[]}]},{path:"/404",component:function(){return n.e(0).then(n.bind(null,"0xTz"))},name:"404",hidden:!0,children:[]}],P=[{r_id:100010,r_name:O.slideManage,path:"/slideManage",iconCls:"el-icon-tickets",name:"slideManage",component:function(){return new Promise(function(t){t()}).then(n.bind(null,"4Lha"))},children:[{r_id:100011,r_name:O.pathological,path:"/pathological",iconCls:"el-icon-tickets",name:"pathological",component:function(){return n.e(10).then(n.bind(null,"LeHF"))},children:[]},{r_id:100012,r_name:O.inspection,path:"/inspection",iconCls:"el-icon-tickets",name:"inspection",component:function(){return n.e(2).then(n.bind(null,"uxYP"))},children:[]}]},{r_id:100020,r_name:O.consultation,path:"/consultation",iconCls:"el-icon-tickets",name:"consultation",component:function(){return new Promise(function(t){t()}).then(n.bind(null,"4Lha"))},children:[{r_id:100021,r_name:O.myConsultation,path:"/myConsultation",iconCls:"el-icon-edit-outline",name:"myConsultation",component:function(){return n.e(4).then(n.bind(null,"WFVb"))},children:[]},{r_id:100022,r_name:O.consultationList,path:"/consultationList",iconCls:"el-icon-edit-outline",name:"consultationList",component:function(){return n.e(7).then(n.bind(null,"CIlh"))},children:[]}]},{r_id:100030,r_name:O.statistics,path:"/statistics",iconCls:"el-icon-tickets",name:"statistics",component:function(){return new Promise(function(t){t()}).then(n.bind(null,"4Lha"))},children:[{r_id:100031,r_name:O.uploadDaily,path:"/uploadDaily",iconCls:"el-icon-edit-outline",name:"uploadDaily",component:function(){return n.e(5).then(n.bind(null,"/Fb4"))},children:[]},{r_id:100032,r_name:O.consultationDaily,path:"/consultationDaily",iconCls:"el-icon-edit-outline",name:"consultationDaily",component:function(){return n.e(6).then(n.bind(null,"kZmR"))},children:[]},{r_id:100033,r_name:O.slideStatistics,path:"/slideStatistics",iconCls:"el-icon-edit-outline",name:"slideStatistics",component:function(){return n.e(8).then(n.bind(null,"vMJc"))},children:[]}]},{r_id:1e5,r_name:O.systemManage,path:"/",iconCls:"fa fa-universal-access",name:"systemManage",component:function(){return new Promise(function(t){t()}).then(n.bind(null,"4Lha"))},children:[{r_id:100001,r_name:O.roleManage,path:"/roleManage",iconCls:"el-icon-edit-outline",name:"roleManage",component:function(){return n.e(1).then(n.bind(null,"qsWe"))},children:[]},{r_id:100002,r_name:O.userManage,path:"/userManage",iconCls:"el-icon-edit-outline",name:"userManage",component:function(){return n.e(3).then(n.bind(null,"11Zy"))},children:[]},{r_id:100003,r_name:O.editUser,path:"/editUser",iconCls:"el-icon-edit-outline",name:"editUser",component:function(){return n.e(9).then(n.bind(null,"oGYk"))},children:[]},{r_id:100030,r_name:O.editPassword,path:"/editPassword",iconCls:"el-icon-edit-outline",name:"editPassword",component:function(){return n.e(11).then(n.bind(null,"3i9l"))},children:[]}]},{path:"*",redirect:"/404",hidden:!0,children:[]}],q=new F.a({mode:"history",routes:I}),A=n("NYxO"),E={state:{routers:[],addRouters:[]},mutations:{setRouters:function(t,e){t.addRouters=e,t.routers=I.concat(e)}},actions:{newRoutes:function(t,e){var n=t.commit;"超级管理员"!==W.getters.info.role&&function t(e,n){for(var o=0;o<e.length;o++)e[o].r_id&&-1===n.indexOf(e[o].r_id.toString())&&(e.splice(o,1),o-=1),e[o]&&e[o].children&&e[o].children.length&&(t(e[o].children,n),e[o].children.length||(e.splice(o,1),o-=1))}(P,e),n("setRouters",P)}}},V=n("mvHQ"),j=n.n(V),H={state:{info:""},mutations:{getInfo:function(t,e){e.authorityRouter&&-1!=e.authorityRouter.indexOf(",")?e.authorityRouter=e.authorityRouter.split(","):null==e.authorityRouter&&(e.authorityRouter=[]),t.info={role:e.role,name:e.name,authorityRouter:e.authorityRouter,avatar:e.avatar?e.avatar:"/static/images/logo.png",uid:e.id},sessionStorage.setItem("info",j()(W.getters.info))}},actions:{getInfo:function(t,e){(0,t.commit)("getInfo",e)}}},z={state:{isCollapse:!1,logoShow:!1,uniquerouter:!0,rightNav:{},tabnavBox:[{title:"home",path:"/index"}]},mutations:{addTab:function(t,e){t.isActive=e.path;for(var n=0;n<t.tabnavBox.length;n++)if(t.tabnavBox[n].path===e.path)return!1;t.tabnavBox.push({title:e.title,path:e.path})},openMenu:function(t,e){t.rightNav=e},removeTab:function(t,e){var n=t.tabnavBox.findIndex(function(t,n){return t.path===e.tabItem.path});if(t.tabnavBox.splice(n,1),e.tabItem.path===e.fullPath){var o=t.tabnavBox[n]||t.tabnavBox[n-1];e.router.push(o.path)}},removeOtherTab:function(t,e){if(t.tabnavBox=[{title:"home",path:"/index"}],e.all)return e.router.push("/index"),!1;t.tabnavBox.push(e.tabItem),e.router.push(e.tabItem.path)},collapse:function(t,e){t.isCollapse=!t.isCollapse,t.logoShow?setTimeout(function(){t.logoShow=!1},300):t.logoShow=!0}},actions:{addTab:function(t,e){(0,t.commit)("addTab",e)},openMenu:function(t,e){(0,t.commit)("openMenu",e)},removeTab:function(t,e){(0,t.commit)("removeTab",e)},removeOtherTab:function(t,e){(0,t.commit)("removeOtherTab",e)},collapse:function(t,e){(0,t.commit)("collapse",e)}}};r.default.use(A.a);var W=new A.a.Store({state:{token:v.a.get("access_token")},mutations:{setToken:function(t,e){t.token=e,v.a.set("access_token",e,{expires:7})}},actions:{setToken:function(t,e){var n=t.commit;return new m.a(function(t,o){n("setToken",e),t()})}},getters:{addRouters:function(t){return t.routerData.addRouters},token:function(t){return t.token},info:function(t){return t.role.info},routers:function(t){return t.routerData.routers},logoShow:function(t){return t.layout.logoShow},isCollapse:function(t){return t.layout.isCollapse},uniquerouter:function(t){return t.layout.uniquerouter},tabnavBox:function(t){return t.layout.tabnavBox},visible:function(t){return t.layout.visible},left:function(t){return t.layout.left},top:function(t){return t.layout.top},rightNav:function(t){return t.layout.rightNav}},modules:{routerData:E,role:H,layout:z}}),X=n("urW8"),Y=n.n(X),Z=n("TXmL"),J={en:$,cn:M};r.default.use(Z.a);var Q=new Z.a({locale:localStorage.lang||"cn",messages:J});Y.a.i18n(function(t,e){return Q.t(t,e)});var G=Q;l.prototype.$axios=g,l.config.productionTip=!1,l.use(u.a),q.beforeEach(function(t,e,n){if(W.getters.token&&"undefined"!==W.getters.token)if("/login"===t.path)n({path:"/"});else if(W.getters.info){if(t.matched.some(function(t){if(t.meta.role)return-1===W.getters.info.authorityRouter}))return n({path:"/404"}),!1;n()}else!function(){var t=i()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:g.get("/user/getUserInfor").then(function(){var t=i()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.dispatch("getInfo",e.data);case 2:return t.next=4,W.dispatch("newRoutes",W.getters.info.authorityRouter);case 4:return t.next=6,q.addRoutes(W.getters.addRouters);case 6:n({path:"/index"});case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){console.log(t)});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()();else"/login"===t.path&&n(),n({path:"/login"})}),new l({el:"#app",router:q,store:W,i18n:G,render:function(t){return t(b)},components:{App:b}})},OOZ0:function(t,e){},QlNS:function(t,e){},V95c:function(t,e){},d95L:function(t,e){},"jJ/4":function(t,e){},lDCB:function(t,e){},ml9o:function(t,e){},muQq:function(t,e){},obAX:function(t,e){},"t+ab":function(t,e){},tvR6:function(t,e){},vxcA:function(t,e){},w1sg:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.10daf2ae7f14eadbe006.js.map